<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sam Lee</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Knewave&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <link rel="stylesheet" href="main.css">
</head>
<body>
    <!-- Hero Section -->
    <section class="hero-section">
        <div class="container">
            <h1>Sam Lee</h1>
            <h2>CS Student @ EPFL</h2>

            <div class="buttons">
                <a href="https://github.com/jamsamjam" class="button">
                    <img src="src/logos/github.png" alt="Github">
                </a>
                <a href="https://www.linkedin.com/in/samleee/" class="button">
                    <img src="src/logos/linkedin.png" alt="linkedin">
                </a>
                <a href="mailto:hello@samlee.com" class="button">
                    <span class="material-icons">email</span>
                </a>
                <a href="http://blog.samlee.ch" class="button">
                    <span class="material-icons">library_books</span>
                </a>
            </div>
        </div>
    </section>

    <!-- Projects Section -->
    <section class="projects-section">
        <div class="projects-container">
            <h2 class="projects-title">My Projects</h2>
            <!-- <div id="hintToast" class="hint-toast" aria-hidden="true">Click the images!</div> -->
            <div class="projects-grid">
                <div class="project-card">
                    <div class="project-content">
                        <h3 class="project-title">Coming Soon</h3>
                        <img class="project-image" src="" alt="">
                        <p class="project-description">
                            Daily habit tracker with friend system
                        </p>
                        <div class="project-tech">
                            <span class="tech-tag">React Native</span>
                            <span class="tech-tag">Node.js</span>
                            <span class="tech-tag">Fastify</span>
                            <span class="tech-tag">PostgreSQL</span>
                        </div>
                        <div class="project-links">
                            <a href="#" class="project-link">Website</a>
                            <a href="#" class="project-link"></a>
                        </div>
                    </div>
                </div>

                <div class="project-card">
                    <div class="project-content">
                        <h3 class="project-title">TalkTalk Bot & Dashboard</h3>
                        <img class="project-image" src="src/talk-1.png" alt="TalkTalk dashboard image">
                        <img class="project-image" src="src/talk-2.png" alt="TalkTalk dashboard image"><p class="project-description">
                            Developed a weekly student update system and a dashboard to streamline student management and communication
                        </p>
                        <div class="project-tech">
                            <span class="tech-tag">Node.js</span>
                            <span class="tech-tag">Express.js</span>
                            <span class="tech-tag">EJS</span>
                            <span class="tech-tag">Gmail API</span>
                            <span class="tech-tag">Google Sheets API</span>
                            <span class="tech-tag">Calendly API</span>
                        </div>
                        <div class="project-links">
                            <a href="https://github.com/androz2091-business/talktalk-bot" class="project-link">GitHub</a>
                        </div>
                    </div>
                </div>

                <div class="project-card">
                    <div class="project-content">
                        <h3 class="project-title">Tickly</h3>
                        <img class="project-image" src="src/tickly.png" alt="Tickly app screenshots">
                        <p class="project-description">
                            A smart time management app with energy-based planning and personalized scheduling suggestions
                        </p>
                        <div class="project-tech">
                            <span class="tech-tag">iOS</span>
                            <span class="tech-tag">Swift</span>
                            <span class="tech-tag">Core Data</span>
                        </div>
                        <div class="project-links">
                            <a href="https://tickly.samlee.ch/" class="project-link">Website</a>
                            <a href="https://apps.apple.com/ng/app/tickly-time-tracker/id6744147165" class="project-link"></a>
                        </div>
                    </div>
                </div>

                <div class="project-card">
                    <div class="project-content">
                        <h3 class="project-title">Music Feature Explorer</h3>
                        <img class="project-image" src="src/hum.png" alt="Music Feature Explorer image">
                        <p class="project-description">
                            An interactive audio analysis tool using RMS, onset, and tempo features, showing structural elements of music visually
                        </p>
                        <div class="project-tech">
                            <span class="tech-tag">Python</span>
                            <span class="tech-tag">Streamlit</span>
                            <span class="tech-tag">Librosa</span>
                        </div>
                        <div class="project-links">
                            <a href="https://github.com/jamsamjam/music-explorer" class="project-link">GitHub</a>
                        </div>
                    </div>
                </div>

                <div class="project-card">
                    <div class="project-content">
                        <h3 class="project-title">A Game of Life</h3>
                        <p class="project-description">
                            A simple implementation of Conway's Game of Life using RISC-V Assembly
                        </p>
                        <div class="project-tech">
                            <span class="tech-tag">Verilog</span>
                            <span class="tech-tag">Assembly</span>
                        </div>
                        <div class="project-links">
                            <a href="https://github.com/jamsamjam/a-game-of-life" class="project-link">GitHub</a>
                        </div>
                    </div>
                </div>

                <div class="project-card">
                    <div class="project-content">
                        <h3 class="project-title">ChaCuN: Carcassonne - Hunters and Gatherers</h3>
                        <p class="project-description">
                            A digital version of Carcassonne: Hunters and Gatherers
                        </p>
                        <div class="project-tech">
                            <span class="tech-tag">Java</span>
                            <span class="tech-tag">CSS</span>
                        </div>
                        <div class="project-links">
                            <a href="https://github.com/jamsamjam/carcassonne" class="project-link">GitHub</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer class="site-footer">
        © 2025 Sam Lee. All rights reserved.
    </footer>
    
    <!-- Lightbox Overlay -->
    <div class="lightbox-overlay" id="lightboxOverlay" aria-hidden="true" role="dialog">
        <button class="lightbox-back-button" id="lightboxBackBtn" aria-label="Close image">Back</button>
        <button class="lightbox-nav-button lightbox-prev" id="lightboxPrevBtn" aria-label="Previous image">‹</button>
        <img class="lightbox-image" id="lightboxImage" alt="Expanded project image">
        <button class="lightbox-nav-button lightbox-next" id="lightboxNextBtn" aria-label="Next image">›</button>
    </div>

    <script>
        (function() {
            var overlay = document.getElementById('lightboxOverlay');
            var overlayImage = document.getElementById('lightboxImage');
            var backBtn = document.getElementById('lightboxBackBtn');
            var prevBtn = document.getElementById('lightboxPrevBtn');
            var nextBtn = document.getElementById('lightboxNextBtn');
            var hint = document.getElementById('hintToast');
            var galleryUrls = [];
            var currentIndex = -1;

            function showImageAt(index) {
                if (!galleryUrls.length) return;
                var safeIndex = (index + galleryUrls.length) % galleryUrls.length;
                currentIndex = safeIndex;
                overlayImage.src = galleryUrls[safeIndex];
            }

            function openLightboxByIndex(index) {
                showImageAt(index);
                overlay.setAttribute('aria-hidden', 'false');
                document.body.style.overflow = 'hidden';
            }

            function closeLightbox() {
                overlay.setAttribute('aria-hidden', 'true');
                overlayImage.src = '';
                document.body.style.overflow = '';
            }

            document.addEventListener('click', function(e) {
                var target = e.target;
                if (target && target.classList && target.classList.contains('project-image')) {
                    e.preventDefault();
                    // Build gallery from images within the same project card (Method B)
                    var card = target.closest('.project-card');
                    var nodes = card ? card.querySelectorAll('.project-image') : document.querySelectorAll('.project-image');
                    galleryUrls = Array.prototype.map.call(nodes, function(n){ return n.src; });
                    currentIndex = Array.prototype.indexOf.call(nodes, target);
                    openLightboxByIndex(currentIndex > -1 ? currentIndex : 0);
                    if (hint) { hint.setAttribute('aria-hidden', 'true'); }
                }
            });

            backBtn.addEventListener('click', function() { closeLightbox(); });

            prevBtn.addEventListener('click', function(e) {
                e.stopPropagation();
                if (currentIndex !== -1) {
                    showImageAt(currentIndex - 1);
                }
            });

            nextBtn.addEventListener('click', function(e) {
                e.stopPropagation();
                if (currentIndex !== -1) {
                    showImageAt(currentIndex + 1);
                }
            });

            overlay.addEventListener('click', function(e) {
                if (e.target === overlay) {
                    closeLightbox();
                }
            });

            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    closeLightbox();
                } else if (overlay.getAttribute('aria-hidden') === 'false') {
                    if (e.key === 'ArrowLeft') {
                        showImageAt(currentIndex - 1);
                    } else if (e.key === 'ArrowRight') {
                        showImageAt(currentIndex + 1);
                    }
                }
            });

            var shownHint = false;
            function showHint() {
                if (!hint || shownHint) return;
                hint.setAttribute('aria-hidden', 'false');
                shownHint = true;
                setTimeout(function(){
                    if (hint) { hint.setAttribute('aria-hidden', 'true'); }
                }, 1000);
            }

            var projectsSection = document.querySelector('.projects-section');
            if ('IntersectionObserver' in window && projectsSection) {
                var observer = new IntersectionObserver(function(entries){
                    entries.forEach(function(entry){
                        if (entry.isIntersecting) {
                            showHint();
                            observer.disconnect();
                        }
                    });
                }, { threshold: 0.25 });
                observer.observe(projectsSection);
            } else {
                var firstImg = document.querySelector('.project-image');
                if (firstImg) {
                    firstImg.addEventListener('mouseenter', showHint, { once: true });
                }
            }
        })();
    </script>
</body>
</html>
